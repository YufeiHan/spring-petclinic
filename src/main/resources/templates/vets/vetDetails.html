<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'vets')}">

<body>

<h2>Vet Information</h2>

<table class="table table-striped" th:object="${vet}">
  <tr>
    <th>Name</th>
    <td><b th:text="*{firstName + ' ' + lastName}"></b></td>
  </tr>
  <tr>
    <th>Specialty</th>
    <td>
      <span th:each="specialty : ${vet.specialties}" th:text="${specialty.name + ' '}" />
      <span th:if="${vet.nrOfSpecialties == 0}">none</span>
    </td>
  </tr>
</table>

<br />
<h2>Appointments</h2>
<table class="table table-striped">
  <thead>
  <tr>
    <th>Date</th>
    <th>Owner</th>
    <th>Pet</th>
    <th>Description</th>
    <th></th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="appointment : ${vet.appointments}">
    <td th:text="${#temporals.format(appointment.startDate, 'yyyy-MM-dd')}"></td>
    <td th:text="${appointment?.ownerName}"></td>
    <td th:text="${appointment?.petName}"></td>
    <td th:text="${appointment?.description}"></td>
    <td><a th:href="@{/vets/{vetId}/appointments/{appointmentId}/delete(vetId=${vet.id},appointmentId=${appointment.id})}">Cancel</a></td>
  </tr>
  </tbody>
</table>

</body>

</html>
